# yaml-language-server: $schema=../../schemas/stack.schema.json
# CLI Stack - Node.js CLI development with Commander.js and @clack/prompts

name: "CLI Stack"
description: >
  Node.js CLI development stack for building command-line tools.
  Includes Commander.js for argument parsing, @clack/prompts for interactive UX,
  and picocolors for terminal styling.
author: "@vince"
version: "1.0.0"

skills:
  # Methodology (core agent behaviors)
  - id: meta/methodology
  # CLI Core
  - id: cli/framework/cli-commander (@vince)
  # CLI Reviewing
  - id: meta/reviewing/cli-reviewing (@vince)
  # Testing
  - id: web/testing/vitest (@vince)
  # Shared
  - id: meta/reviewing/reviewing (@vince)
  - id: meta/research/research-methodology (@vince)
  # Setup/Tooling (relevant for CLI projects)
  - id: infra/monorepo/turborepo (@vince)
  - id: infra/tooling/setup-tooling (@vince)
  - id: infra/env/setup-env (@vince)
  # CI/CD
  - id: api/ci-cd/github-actions (@vince)

agents:
  - cli-developer
  - cli-reviewer
  - api-developer
  - api-reviewer
  - api-researcher
  - web-architecture
  - web-pm
  - web-tester
  - skill-summoner
  - agent-summoner
  - documentor

# Per-agent skill assignments
agent_skills:
  cli-developer:
    methodology:
      - id: meta/methodology
        preloaded: true
    cli:
      - id: cli/framework/cli-commander (@vince)
        preloaded: true
    testing:
      - id: web/testing/vitest (@vince)
    setup:
      - id: infra/monorepo/turborepo (@vince)
      - id: infra/tooling/setup-tooling (@vince)
      - id: infra/env/setup-env (@vince)
    ci-cd:
      - id: api/ci-cd/github-actions (@vince)

  cli-reviewer:
    methodology:
      - id: meta/methodology
        preloaded: true
    cli:
      - id: cli/framework/cli-commander (@vince)
        preloaded: true
    reviewing:
      - id: meta/reviewing/reviewing (@vince)
        preloaded: true
      - id: meta/reviewing/cli-reviewing (@vince)
        preloaded: true
    testing:
      - id: web/testing/vitest (@vince)
    setup:
      - id: infra/monorepo/turborepo (@vince)
      - id: infra/tooling/setup-tooling (@vince)
    ci-cd:
      - id: api/ci-cd/github-actions (@vince)

  web-tester:
    methodology:
      - id: meta/methodology
        preloaded: true
    cli:
      - id: cli/framework/cli-commander (@vince)
    testing:
      - id: web/testing/vitest (@vince)
        preloaded: true

  api-developer:
    methodology:
      - id: meta/methodology
        preloaded: true
    cli:
      - id: cli/framework/cli-commander (@vince)
    testing:
      - id: web/testing/vitest (@vince)
    setup:
      - id: infra/monorepo/turborepo (@vince)
      - id: infra/tooling/setup-tooling (@vince)
      - id: infra/env/setup-env (@vince)
    ci-cd:
      - id: api/ci-cd/github-actions (@vince)

  api-reviewer:
    methodology:
      - id: meta/methodology
        preloaded: true
    cli:
      - id: cli/framework/cli-commander (@vince)
    reviewing:
      - id: meta/reviewing/reviewing (@vince)
        preloaded: true
      - id: meta/reviewing/cli-reviewing (@vince)
    testing:
      - id: web/testing/vitest (@vince)
    ci-cd:
      - id: api/ci-cd/github-actions (@vince)

  api-researcher:
    methodology:
      - id: meta/methodology
        preloaded: true
    cli:
      - id: cli/framework/cli-commander (@vince)
    research:
      - id: meta/research/research-methodology (@vince)
        preloaded: true

  web-architecture:
    methodology:
      - id: meta/methodology
        preloaded: true
    cli:
      - id: cli/framework/cli-commander (@vince)
    setup:
      - id: infra/monorepo/turborepo (@vince)
        preloaded: true
      - id: infra/tooling/setup-tooling (@vince)
      - id: infra/env/setup-env (@vince)
    ci-cd:
      - id: api/ci-cd/github-actions (@vince)

  web-pm:
    methodology:
      - id: meta/methodology
        preloaded: true
    cli:
      - id: cli/framework/cli-commander (@vince)
    research:
      - id: meta/research/research-methodology (@vince)
        preloaded: true
    testing:
      - id: web/testing/vitest (@vince)
    setup:
      - id: infra/monorepo/turborepo (@vince)
      - id: infra/tooling/setup-tooling (@vince)

  skill-summoner:
    methodology:
      - id: meta/methodology
        preloaded: true
    cli:
      - id: cli/framework/cli-commander (@vince)
    reviewing:
      - id: meta/reviewing/reviewing (@vince)
      - id: meta/reviewing/cli-reviewing (@vince)
    research:
      - id: meta/research/research-methodology (@vince)
    testing:
      - id: web/testing/vitest (@vince)
    setup:
      - id: infra/monorepo/turborepo (@vince)
      - id: infra/tooling/setup-tooling (@vince)
      - id: infra/env/setup-env (@vince)
    ci-cd:
      - id: api/ci-cd/github-actions (@vince)

  agent-summoner:
    methodology:
      - id: meta/methodology
        preloaded: true
    cli:
      - id: cli/framework/cli-commander (@vince)
    reviewing:
      - id: meta/reviewing/reviewing (@vince)
      - id: meta/reviewing/cli-reviewing (@vince)
    research:
      - id: meta/research/research-methodology (@vince)
    testing:
      - id: web/testing/vitest (@vince)
    setup:
      - id: infra/monorepo/turborepo (@vince)
      - id: infra/tooling/setup-tooling (@vince)
      - id: infra/env/setup-env (@vince)
    ci-cd:
      - id: api/ci-cd/github-actions (@vince)

  documentor:
    methodology:
      - id: meta/methodology
        preloaded: true
    cli:
      - id: cli/framework/cli-commander (@vince)
    reviewing:
      - id: meta/reviewing/reviewing (@vince)
      - id: meta/reviewing/cli-reviewing (@vince)
    research:
      - id: meta/research/research-methodology (@vince)
        preloaded: true
    testing:
      - id: web/testing/vitest (@vince)
    setup:
      - id: infra/monorepo/turborepo (@vince)
      - id: infra/tooling/setup-tooling (@vince)

philosophy: "Clear, helpful CLI interactions"

principles:
  - Always handle SIGINT gracefully with proper cleanup
  - Use spinners for operations >500ms
  - Provide clear error messages with actionable guidance
  - Use exit codes semantically (0 success, 1 user error, 2 system error)
  - Test cancellation paths as thoroughly as happy paths

tags:
  - cli
  - commander
  - clack
  - prompts
  - terminal
  - node
