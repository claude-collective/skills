# yaml-language-server: $schema=../../schemas/stack.schema.json
# Work Stack - Exact 1:1 mapping of work profile
# Photoroom webapp stack with Tailwind, MobX, React Query

name: "Work Stack"
description: >
  Photoroom webapp stack - exact 1:1 mapping of work profile.
  Tailwind CSS for styling, MobX for state management with RootStore pattern,
  and React Query bridged to MobX via MobxQuery.
author: "@photoroom"
version: "1.0.0"

skills:
  # Methodology
  - id: meta/methodology
  # Frontend - Photoroom specific
  - id: web/framework/react+mobx (@vince)
  - id: web/styling/tailwind (@vince)
  - id: web/state/mobx (@vince)
  - id: web/server-state/react-query+axios+zod (@vince)
  - id: web/accessibility/web-accessibility (@vince)
  - id: web/performance/performance+mobx (@vince)
  - id: web/mocks/web-mocks (@vince)
  # testing+karma+playwright (@vince) doesn't exist - commented out
  # - id: testing+karma+playwright (@vince)

agents:
  # Developer agents
  - web-developer
  - web-architecture
  # Reviewer agents
  - web-reviewer
  # Researcher agents
  - web-researcher
  # Planning agents
  - web-pm
  # Pattern agents
  - pattern-scout
  - web-pattern-critique
  # Meta agents
  - agent-summoner
  - skill-summoner
  - documentor
  # Tester agents
  - web-tester

# Per-agent skill assignments (hierarchical by category)
agent_skills:
  web-developer:
    methodology:
      - id: meta/methodology
        preloaded: true
    framework:
      - id: web/framework/react+mobx (@vince)
        preloaded: true
    styling:
      - id: web/styling/tailwind (@vince)
        preloaded: true
    state:
      - id: web/state/mobx (@vince)
        preloaded: true
    server-state:
      - id: web/server-state/react-query+axios+zod (@vince)
    accessibility:
      - id: web/accessibility/web-accessibility (@vince)
    performance:
      - id: web/performance/performance+mobx (@vince)
    mocks:
      - id: web/mocks/web-mocks (@vince)
    # testing skill doesn't exist - commented out
    # testing:
    #   - id: testing+karma+playwright (@vince)

  web-reviewer:
    methodology:
      - id: meta/methodology
        preloaded: true
    framework:
      - id: web/framework/react+mobx (@vince)
        preloaded: true
    styling:
      - id: web/styling/tailwind (@vince)
        preloaded: true
    state:
      - id: web/state/mobx (@vince)
        preloaded: true
    server-state:
      - id: web/server-state/react-query+axios+zod (@vince)
    accessibility:
      - id: web/accessibility/web-accessibility (@vince)
    performance:
      - id: web/performance/performance+mobx (@vince)
    mocks:
      - id: web/mocks/web-mocks (@vince)
    # testing skill doesn't exist - commented out
    # testing:
    #   - id: testing+karma+playwright (@vince)

  web-tester:
    methodology:
      - id: meta/methodology
        preloaded: true
    framework:
      - id: web/framework/react+mobx (@vince)
    state:
      - id: web/state/mobx (@vince)
    mocks:
      - id: web/mocks/web-mocks (@vince)
    # testing skill doesn't exist - commented out
    # testing:
    #   - id: testing+karma+playwright (@vince)
    #     preloaded: true

  web-pm:
    methodology:
      - id: meta/methodology
        preloaded: true
    framework:
      - id: web/framework/react+mobx (@vince)
    styling:
      - id: web/styling/tailwind (@vince)
    state:
      - id: web/state/mobx (@vince)
    server-state:
      - id: web/server-state/react-query+axios+zod (@vince)
    accessibility:
      - id: web/accessibility/web-accessibility (@vince)
    performance:
      - id: web/performance/performance+mobx (@vince)
    mocks:
      - id: web/mocks/web-mocks (@vince)
    # testing skill doesn't exist - commented out
    # testing:
    #   - id: testing+karma+playwright (@vince)

  skill-summoner:
    methodology:
      - id: meta/methodology
        preloaded: true
    framework:
      - id: web/framework/react+mobx (@vince)
    styling:
      - id: web/styling/tailwind (@vince)
    state:
      - id: web/state/mobx (@vince)
    server-state:
      - id: web/server-state/react-query+axios+zod (@vince)
    accessibility:
      - id: web/accessibility/web-accessibility (@vince)
    performance:
      - id: web/performance/performance+mobx (@vince)
    mocks:
      - id: web/mocks/web-mocks (@vince)
    # testing skill doesn't exist - commented out
    # testing:
    #   - id: testing+karma+playwright (@vince)

philosophy: "Design system first, move fast"

principles:
  - Wrap ALL components with observer() when reading MobX state
  - Use arrow functions for ALL store methods (preserves this binding)
  - Wrap state mutations after await in runInAction()
  - Use reaction() in stores for side effects, NOT useEffect
  - React Query for server state, MobX for client state
  - Tailwind CSS with @photoroom/ui preset
  - "@photoroom/icons for all icons (not lucide-react)"
  - Use type for props, NOT interface (ESLint enforced)

tags:
  - react
  - typescript
  - tailwind
  - mobx
  - react-query
  - photoroom
  - webapp
