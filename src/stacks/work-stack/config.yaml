# yaml-language-server: $schema=../../schemas/stack.schema.json
# Work Stack - Exact 1:1 mapping of work profile
# Photoroom webapp stack with Tailwind, MobX, React Query

name: 'Work Stack'
description: >
  Photoroom webapp stack - exact 1:1 mapping of work profile.
  Tailwind CSS for styling, MobX for state management with RootStore pattern,
  and React Query bridged to MobX via MobxQuery.
author: '@photoroom'
version: '1.0.0'

skills:
  # Frontend - Photoroom specific
  - id: frontend/react+mobx (@photoroom)
  - id: frontend/styling-tailwind (@photoroom)
  - id: frontend/state-mobx (@photoroom)
  - id: frontend/server-state-react-query+axios+zod (@photoroom)
  - id: frontend/accessibility (@photoroom)
  - id: frontend/performance+mobx (@photoroom)
  - id: frontend/mocks (@photoroom)
  - id: frontend/testing+karma+playwright (@photoroom)

agents:
  - frontend-developer
  - frontend-reviewer
  - tester
  - pm
  - skill-summoner

# Per-agent skill assignments
agent_skills:
  frontend-developer:
    - id: frontend/react+mobx (@photoroom)
      preloaded: true
    - id: frontend/styling-tailwind (@photoroom)
      preloaded: true
    - id: frontend/state-mobx (@photoroom)
      preloaded: true
    - id: frontend/server-state-react-query+axios+zod (@photoroom)
    - id: frontend/accessibility (@photoroom)
    - id: frontend/performance+mobx (@photoroom)
    - id: frontend/mocks (@photoroom)
    - id: frontend/testing+karma+playwright (@photoroom)

  frontend-reviewer:
    - id: frontend/react+mobx (@photoroom)
      preloaded: true
    - id: frontend/styling-tailwind (@photoroom)
      preloaded: true
    - id: frontend/state-mobx (@photoroom)
      preloaded: true
    - id: frontend/server-state-react-query+axios+zod (@photoroom)
    - id: frontend/accessibility (@photoroom)
    - id: frontend/performance+mobx (@photoroom)
    - id: frontend/mocks (@photoroom)
    - id: frontend/testing+karma+playwright (@photoroom)

  tester:
    - id: frontend/react+mobx (@photoroom)
    - id: frontend/state-mobx (@photoroom)
    - id: frontend/mocks (@photoroom)
    - id: frontend/testing+karma+playwright (@photoroom)
      preloaded: true

  pm:
    - id: frontend/react+mobx (@photoroom)
    - id: frontend/styling-tailwind (@photoroom)
    - id: frontend/state-mobx (@photoroom)
    - id: frontend/server-state-react-query+axios+zod (@photoroom)
    - id: frontend/accessibility (@photoroom)
    - id: frontend/performance+mobx (@photoroom)
    - id: frontend/mocks (@photoroom)
    - id: frontend/testing+karma+playwright (@photoroom)

  skill-summoner:
    - id: frontend/react+mobx (@photoroom)
    - id: frontend/styling-tailwind (@photoroom)
    - id: frontend/state-mobx (@photoroom)
    - id: frontend/server-state-react-query+axios+zod (@photoroom)
    - id: frontend/accessibility (@photoroom)
    - id: frontend/performance+mobx (@photoroom)
    - id: frontend/mocks (@photoroom)
    - id: frontend/testing+karma+playwright (@photoroom)

philosophy: 'Design system first, move fast'

principles:
  - Wrap ALL components with observer() when reading MobX state
  - Use arrow functions for ALL store methods (preserves this binding)
  - Wrap state mutations after await in runInAction()
  - Use reaction() in stores for side effects, NOT useEffect
  - React Query for server state, MobX for client state
  - Tailwind CSS with @photoroom/ui preset
  - '@photoroom/icons for all icons (not lucide-react)'
  - Use type for props, NOT interface (ESLint enforced)

tags:
  - react
  - typescript
  - tailwind
  - mobx
  - react-query
  - photoroom
  - webapp
