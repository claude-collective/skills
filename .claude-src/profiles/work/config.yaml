# Profile metadata
name: work
description: Photoroom webapp (MobX, Tailwind, React Query, Karma+Chai)

# Profile-specific CLAUDE.md
claude_md: ./CLAUDE.md

# Which core prompts to include for each agent type
# These appear at the BEGINNING of the agent (before workflow)
core_prompt_sets:
  developer:
    - core-principles
    - investigation-requirement
    - write-verification
    - anti-over-engineering
  reviewer:
    - core-principles
    - investigation-requirement
    - write-verification
  pm:
    - core-principles
    - investigation-requirement
    - write-verification
  scout:
    - core-principles
    - investigation-requirement
    - write-verification
    - anti-over-engineering
  summoner:
    - core-principles
    - investigation-requirement
    - write-verification
    - anti-over-engineering
  critique:
    - core-principles
    - investigation-requirement
    - write-verification
    - anti-over-engineering

# Which prompts appear at the END of the agent (after skills/examples)
# These are typically shared across all agent types
ending_prompt_sets:
  developer:
    - context-management
    - improvement-protocol
  reviewer:
    - context-management
    - improvement-protocol
  pm:
    - context-management
    - improvement-protocol
  scout:
    - context-management
    - improvement-protocol
  summoner:
    - context-management
    - improvement-protocol
  critique:
    - context-management
    - improvement-protocol

# Agent configurations
agents:
  frontend-developer-work:
    name: frontend-developer-work
    title: Frontend Developer Agent (Photoroom)
    description: Implements frontend features from detailed specs - React components, TypeScript, styling, client state - surgical execution following existing patterns - invoke AFTER pm creates spec
    model: opus
    tools:
      - Read
      - Write
      - Edit
      - Grep
      - Glob
      - Bash
    core_prompts: developer
    ending_prompts: developer
    output_format: output-formats-developer
    skills:
      precompiled:
        - id: frontend/react
          path: skills/frontend/react.md
          name: React
          description: Component architecture, MobX observer, hooks, patterns
          usage: when implementing React components
        - id: frontend/styling
          path: skills/frontend/styling.md
          name: Styling
          description: Tailwind, clsx, design tokens
          usage: when implementing styles
        - id: frontend/client-state
          path: skills/frontend/client-state.md
          name: Client State
          description: MobX stores, reactions, computed values
          usage: when implementing MobX stores or complex client-side state
      dynamic:
        - id: frontend/api
          path: skills/frontend/api.md
          name: API Integration
          description: REST APIs, React Query, Zod validation
          usage: when implementing data fetching, API calls, or React Query integrations
        - id: frontend/accessibility
          path: skills/frontend/accessibility.md
          name: Accessibility
          description: WCAG, ARIA, keyboard navigation
          usage: when implementing accessible components or ARIA patterns
        - id: frontend/performance
          path: skills/frontend/performance.md
          name: Performance
          description: MobX computed, lazy loading, WebGL cleanup
          usage: when optimizing renders or handling resource cleanup

  frontend-reviewer-work:
    name: frontend-reviewer-work
    title: Frontend Reviewer Agent (Photoroom)
    description: Reviews React code ONLY (*.tsx/*.jsx with JSX) - components, hooks, props, MobX state, performance, a11y patterns - NOT for API routes, configs, or server code
    model: opus
    tools:
      - Read
      - Write
      - Edit
      - Grep
      - Glob
      - Bash
    core_prompts: reviewer
    ending_prompts: reviewer
    output_format: output-formats-reviewer
    skills:
      precompiled:
        - id: frontend/react
          path: skills/frontend/react.md
          name: React
          description: Component architecture, MobX observer, hooks, patterns
          usage: when reviewing React components
        - id: frontend/styling
          path: skills/frontend/styling.md
          name: Styling
          description: Tailwind, clsx, design tokens
          usage: when reviewing styles
        - id: frontend/client-state
          path: skills/frontend/client-state.md
          name: Client State
          description: MobX stores, reactions, computed values
          usage: when reviewing MobX store implementations
        - id: frontend/accessibility
          path: skills/frontend/accessibility.md
          name: Accessibility
          description: WCAG, ARIA, keyboard navigation
          usage: when reviewing accessibility
      dynamic:
        - id: frontend/performance
          path: skills/frontend/performance.md
          name: Performance
          description: Render performance, MobX computed
          usage: when reviewing code with potential performance issues
        - id: frontend/api
          path: skills/frontend/api.md
          name: API Integration
          description: React Query, Zod validation
          usage: when reviewing API integration code

  tester-work:
    name: tester-work
    title: Tester Agent (Photoroom)
    description: Writes tests BEFORE implementation - Karma+Mocha+Chai for unit tests, Playwright for E2E - invoke BEFORE developer implements feature
    model: opus
    tools:
      - Read
      - Write
      - Edit
      - Grep
      - Glob
      - Bash
    core_prompts: developer
    ending_prompts: developer
    output_format: output-formats-tester
    skills:
      precompiled:
        - id: frontend/testing
          path: skills/frontend/testing.md
          name: Frontend Testing
          description: Karma, Mocha, Chai, Playwright E2E
          usage: when writing React component tests or E2E tests
        - id: frontend/mocking
          path: skills/frontend/mocking.md
          name: Mocking
          description: Sinon, mock store factories, test doubles
          usage: when setting up mocks
      dynamic:
        - id: frontend/accessibility
          path: skills/frontend/accessibility.md
          name: Accessibility
          description: Accessibility testing patterns
          usage: when writing accessibility-focused tests
        - id: frontend/client-state
          path: skills/frontend/client-state.md
          name: Client State
          description: MobX store testing patterns
          usage: when writing store tests

  pm-work:
    name: pm-work
    title: PM and Architect Agent (Photoroom)
    description: Creates detailed implementation specs by researching codebase patterns - architectural planning and requirements gathering - invoke BEFORE developer for any new feature
    model: opus
    tools:
      - Read
      - Write
      - Edit
      - Grep
      - Glob
      - Bash
    core_prompts: pm
    ending_prompts: pm
    output_format: output-formats-pm
    skills:
      precompiled: []
      dynamic:
        - id: frontend/react
          path: skills/frontend/react.md
          name: React
          description: component architecture for spec scoping
          usage: when scoping features that involve React components
        - id: frontend/api
          path: skills/frontend/api.md
          name: API Integration
          description: REST APIs, data fetching for spec scoping
          usage: when scoping features that involve data fetching or API integration
        - id: frontend/styling
          path: skills/frontend/styling.md
          name: Styling
          description: design tokens, theming for spec scoping
          usage: when scoping features that involve styling or theming
        - id: frontend/client-state
          path: skills/frontend/client-state.md
          name: Client State
          description: MobX state management for spec scoping
          usage: when scoping features that involve client-side state
        - id: frontend/accessibility
          path: skills/frontend/accessibility.md
          name: Accessibility
          description: a11y requirements for spec scoping
          usage: when scoping features that require accessibility considerations
        - id: frontend/performance
          path: skills/frontend/performance.md
          name: Performance
          description: performance requirements for spec scoping
          usage: when scoping features with performance requirements
        - id: frontend/testing
          path: skills/frontend/testing.md
          name: Frontend Testing
          description: Karma+Chai testing requirements for spec scoping
          usage: when scoping features that require testing
        - id: frontend/mocking
          path: skills/frontend/mocking.md
          name: Mocking
          description: Sinon mock requirements for spec scoping
          usage: when scoping features that require mocking or test data

  skill-summoner-work:
    name: skill-summoner-work
    title: Skill Summoner Agent (Photoroom)
    description: Creates technology-specific skills by researching best practices and comparing with codebase standards - use for MobX, Tailwind, and other Photoroom-specific skills
    model: opus
    tools:
      - Read
      - Write
      - Edit
      - Grep
      - Glob
      - WebSearch
      - WebFetch
    core_prompts: summoner
    ending_prompts: summoner
    output_format: output-formats-developer
    skills:
      precompiled: []
      dynamic:
        - id: frontend/react
          path: skills/frontend/react.md
          name: React
          description: understanding React patterns when creating React-related skills
          usage: when creating or improving skills related to React components or hooks
        - id: frontend/styling
          path: skills/frontend/styling.md
          name: Styling
          description: understanding Tailwind patterns when creating styling skills
          usage: when creating or improving skills related to CSS or styling patterns
        - id: frontend/api
          path: skills/frontend/api.md
          name: Frontend API
          description: understanding API integration patterns when creating data fetching skills
          usage: when creating or improving skills related to data fetching or API integration
        - id: frontend/client-state
          path: skills/frontend/client-state.md
          name: Client State
          description: understanding MobX patterns when creating state management skills
          usage: when creating or improving skills related to state management
        - id: frontend/accessibility
          path: skills/frontend/accessibility.md
          name: Accessibility
          description: understanding a11y patterns when creating accessibility skills
          usage: when creating or improving skills related to accessibility
        - id: frontend/performance
          path: skills/frontend/performance.md
          name: Frontend Performance
          description: understanding render optimization when creating performance skills
          usage: when creating or improving skills related to frontend performance
        - id: frontend/testing
          path: skills/frontend/testing.md
          name: Frontend Testing
          description: understanding Karma+Chai testing patterns when creating testing skills
          usage: when creating or improving skills related to React testing
        - id: frontend/mocking
          path: skills/frontend/mocking.md
          name: Mocking
          description: understanding Sinon/mock patterns when creating testing skills
          usage: when creating or improving skills related to mocking or test data
